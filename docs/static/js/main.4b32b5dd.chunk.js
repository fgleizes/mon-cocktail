(this["webpackJsonpmon-cocktail"]=this["webpackJsonpmon-cocktail"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(28),r=a.n(l),i=a(55),o=a(54),s=a(22),m=a(23),u=a(17),k=a(27),d=a(26),h=a(18),v=a(39),E=a(40),p=a(34);function C(e){var t=e.myCocktails;return c.a.createElement("header",{className:"header"},c.a.createElement(E.a,{bg:"dark",variant:"dark",fixed:"top",expand:"md"},c.a.createElement(E.a.Brand,{as:h.b,to:"/"},"Cocktailon"),c.a.createElement(E.a.Toggle,{"aria-controls":"navbar-nav"}),c.a.createElement(E.a.Collapse,{id:"navbar-nav"},c.a.createElement(v.a,{className:"nav-left mr-auto"},c.a.createElement(v.a.Link,{as:h.b,to:"/"},"Home")),c.a.createElement(v.a,{className:"nav-right"},c.a.createElement(v.a.Link,{as:h.b,to:"/myCocktails/",className:"myCocktails-cart d-flex align-items-center"},"My Cocktails",c.a.createElement(p.c,{className:"ml-2"}),t.length>0&&c.a.createElement("span",{className:"ml-md-2 d-flex align-items-center justify-content-center"},t.length))))))}var y=a(51),f=a.n(y),b=a(67),g=a(32),w=a(38),N=a(29),j=a(19),O=a(52),R=a(68),S=function(e){Object(k.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={query:"",filters:""},n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.handleSearch(this.state.query)}},{key:"render",value:function(){var e=this;return c.a.createElement(j.a,null,c.a.createElement("div",{className:"search-box text-center py-3 pb-md-5 pt-lg-4"},c.a.createElement("h1",{className:"text-dark pb-4"},"Search cocktails"),c.a.createElement(w.a,{onSubmit:this.onSubmit},c.a.createElement(w.a.Row,null,c.a.createElement(g.a,{lg:9,className:"mx-auto"},c.a.createElement(O.a,null,c.a.createElement(w.a.Control,{className:"text-center",type:"text",placeholder:"Enter the name of a cocktail",value:this.state.query,onChange:function(t){return e.setState({query:t.target.value})}}),c.a.createElement(O.a.Append,null,c.a.createElement(N.a,{variant:"dark",type:"submit"},c.a.createElement(R.a,null)))),c.a.createElement(w.a.Text,{muted:!0},"nombre de r\xe9sultats: ",this.props.numberOfResults))))))}}]),a}(c.a.Component),x=function(e){return c.a.createElement(N.a,{variant:"dark",onClick:e.onClick},c.a.createElement(p.a,null)," Remove")},D=function(e){return c.a.createElement(N.a,{variant:"success",onClick:e.onClick},c.a.createElement(p.b,null)," Add to My Cocktails")};function L(e){var t=e.thisCocktail,a=e.myCocktails,n=e.selectCocktail;return a.some((function(e){return e.id===t.id}))?c.a.createElement(x,{onClick:function(){return n(t)}}):c.a.createElement(D,{onClick:function(){n(t),document.querySelector(".myCocktails-cart.nav-link").className="myCocktails-cart nav-link",window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){document.querySelector(".myCocktails-cart").className="myCocktails-cart nav-link cocktail-added"}))}))}})}var q=a(31);function M(e){var t=e.cocktail,a=e.myCocktails,n=e.selectCocktail;return c.a.createElement("div",{className:"cocktail-card d-flex flex-column"},c.a.createElement(h.b,{to:"/cocktail/".concat(t.id,"-").concat(t.name.replace(/ /g,"-"))},c.a.createElement(q.a,{className:"cocktail text-center w-100 mb-0"},c.a.createElement(q.a.Caption,{className:"mb-2"},t.name),c.a.createElement("div",{className:"position-relative"},c.a.createElement(q.a.Image,{width:"100%",rounded:!0,src:t.previewURL,alt:"Photo d'un cocktail "+t.name,title:t.name,className:"mb-0"}),c.a.createElement("div",{className:"hover-effect"})))),c.a.createElement(L,{thisCocktail:t,myCocktails:a,selectCocktail:n}))}function T(e){var t=e.cocktails,a=e.myCocktails,n=e.selectCocktail;return c.a.createElement(j.a,null,c.a.createElement("div",{id:"cocktail-list pb-5"},c.a.createElement("h2",{className:"text-dark"},"Cocktails :"),c.a.createElement("div",{className:"cocktail-list pt-3"},t.map((function(e){return c.a.createElement(M,{key:e.id,cocktail:e,myCocktails:a,selectCocktail:n})})))))}var U=a(53),I=a.n(U),B="https://www.thecocktaildb.com/api/json/v1/1/";function A(e){return function(e){var t=B+"search.php?s="+e;return I.a.get(t).then((function(e){return e.data.drinks})).then((function(e){return e.map((function(e){return{id:e.idDrink,name:e.strDrink,previewURL:e.strDrinkThumb+"/preview"}}))})).catch((function(e){return[]}))}(e)}var F=function(e){Object(k.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={results:[]},n.handleSearch=n.handleSearch.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.updateResultsFromURL()}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.updateResultsFromURL()}},{key:"updateResultsFromURL",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.query,e.next=3,A(t);case 3:a=e.sent,this.setState({results:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"buildSearchURL",value:function(e){return"/search/"+e}},{key:"handleSearch",value:function(e){var t=this.buildSearchURL(e);this.props.history.push(t)}},{key:"render",value:function(){var e=this.state.results,t=this.props,a=t.myCocktails,n=t.selectCocktail;return c.a.createElement("section",{id:"search-page"},c.a.createElement(S,{handleSearch:this.handleSearch,numberOfResults:e.length}),e.length>0&&c.a.createElement(T,{cocktails:e,myCocktails:a,selectCocktail:n}))}}]),a}(c.a.Component),H=a(36);function G(e){var t=e.show,a=e.onClose,n=e.onConfirm,l=e.thisCocktailName;return c.a.createElement(H.a,{show:t,onHide:a,animation:!0},c.a.createElement(H.a.Header,{closeButton:!0},c.a.createElement(H.a.Title,null,l)),c.a.createElement(H.a.Body,null,c.a.createElement("p",null,"Remove the ",c.a.createElement("strong",null,l),' from your "My Cocktails" list?')),c.a.createElement(H.a.Footer,null,c.a.createElement(N.a,{variant:"secondary",onClick:a},"Cancel"),c.a.createElement(N.a,{type:"submit",variant:"dark",onClick:n},"Remove")))}function J(e){var t=e.myCocktails,a=e.selectCocktail;return c.a.createElement("section",{id:"my-cocktails"},c.a.createElement(j.a,null,c.a.createElement("h1",{className:"text-center text-dark"},"My Cocktails"),t.length>0&&c.a.createElement("div",{id:"cocktail-list pb-5"},c.a.createElement("div",{className:"cocktail-list pt-3"},t.map((function(e){return c.a.createElement(M,{key:e.id,cocktail:e,myCocktails:t,selectCocktail:a})}))))))}var P=a(7),W=a(69),$=function(e){Object(k.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={cocktailDetails:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.handleSearchById(this.props.match.params.id)}},{key:"handleSearchById",value:function(e){var t=this;(function(e){var t=B+"lookup.php?i="+e;return I.a.get(t).then((function(e){return e.data.drinks[0]})).then((function(e){for(var t=[],a=1;e["strIngredient"+a];){var n=e["strIngredient"+a],c=e["strMeasure"+a];t.push({name:n,quantity:c}),a++}return{id:e.idDrink,name:e.strDrink,imageURL:e.strDrinkThumb,previewURL:e.strDrinkThumb+"/preview",tags:e.strTags,category:e.strCategory,alcoholic:e.strAlcoholic,glass:e.strGlass,instructions:e.strInstructions,ingredients:t}})).catch((function(e){return"error"}))})(e).then((function(e){t.setState({cocktailDetails:e})}))}},{key:"render",value:function(){var e=this.state.cocktailDetails,t=e.id,a=e.name,n=e.imageURL,l=e.previewURL,r=e.tags,i=e.alcoholic,o=e.category,s=e.glass,m=e.instructions,u=e.ingredients,k=this.props,d=k.myCocktails,h=k.selectCocktail,v={id:t,name:a,previewURL:l};return"error"===this.state.cocktailDetails?c.a.createElement(j.a,null,c.a.createElement("h3",null,"Cocktail not found!")):c.a.createElement("section",{id:"cocktail-view"},c.a.createElement(j.a,null,c.a.createElement("div",{className:"cocktail-details py-3 py-lg-5"},this.state.cocktailDetails&&c.a.createElement(W.a,null,c.a.createElement(g.a,{sm:{span:12},md:{span:6,order:2},lg:5,xl:4},c.a.createElement(q.a,null,c.a.createElement(q.a.Image,{src:n,alt:"Photo of a ".concat(a," cocktail"),title:a}),r&&c.a.createElement(q.a.Caption,null,r)),c.a.createElement("div",{className:"mb-4 mb-md-0"},c.a.createElement(L,{thisCocktail:v,myCocktails:d,selectCocktail:h}))),c.a.createElement(g.a,{sm:{span:12},md:{span:6,order:1},lg:7,xl:8},c.a.createElement("div",null,c.a.createElement("h2",null,a),c.a.createElement("p",null,m)),c.a.createElement("div",{className:"ingredient-list"},c.a.createElement("h3",null,"Ingredients:"),u&&c.a.createElement("ul",null,u.map((function(e,t){return c.a.createElement("li",{className:"ingredient",key:t},e.name+(e.quantity&&" "+e.quantity))})))),c.a.createElement("div",null,c.a.createElement("h4",null,"Details:"),c.a.createElement("ul",{className:"m-md-0"},c.a.createElement("li",null,o),c.a.createElement("li",null,i),c.a.createElement("li",null,"Glass type : ",s))))))))}}]),a}(c.a.Component),z=Object(P.g)($),K=(a(99),function(e){Object(k.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={myCocktails:[],showModal:!1,cocktailToRemove:""},n.selectCocktail=n.selectCocktail.bind(Object(u.a)(n)),n.removeCocktail=n.removeCocktail.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"selectCocktail",value:function(e){var t=this.state.myCocktails,a=t.findIndex((function(t){return t.id===e.id}));-1===a?this.setState({myCocktails:[].concat(Object(o.a)(t),[e])}):this.setState({showModal:!0,cocktailToRemove:Object(i.a)(Object(i.a)({},e),{},{index:a})})}},{key:"removeCocktail",value:function(){var e=Object(o.a)(this.state.myCocktails);return e.splice(this.state.cocktailToRemove.index,1),this.setState({myCocktails:e,showModal:!1,cocktailToRemove:""})}},{key:"render",value:function(){var e=this,t=this.state.myCocktails;return c.a.createElement("div",{className:"App py-3 py-md-5"},c.a.createElement(G,{show:this.state.showModal,onConfirm:this.removeCocktail,onClose:function(){return e.setState({showModal:!1,cocktailToRemove:""})},thisCocktailName:this.state.cocktailToRemove.name}),c.a.createElement(h.a,null,c.a.createElement(C,{myCocktails:t}),c.a.createElement(P.d,null,c.a.createElement(P.b,{path:"/myCocktails/"},c.a.createElement(J,{myCocktails:t,selectCocktail:this.selectCocktail})),c.a.createElement(P.b,{path:"/search/:query?",render:function(a){return c.a.createElement(F,Object.assign({},a,{myCocktails:t,selectCocktail:e.selectCocktail}))}}),c.a.createElement(P.b,{path:"/cocktail/:id-:name",children:c.a.createElement(z,{myCocktails:t,selectCocktail:this.selectCocktail})}),c.a.createElement(P.b,{path:"/"},c.a.createElement(P.a,{to:"/search/"})))))}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(100);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(101)},99:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.4b32b5dd.chunk.js.map